services:
  - type: web
    runtime: node
    name: sbe-api
    plan: starter
    branch: main

    buildCommand: |
      echo "ğŸ”§ Build: install everything then build project"
      npm install --omit=dev=false
      npm run build

      echo "ğŸ§¹ Clear file/dev, giá»¯ dist/, prisma/, swagger-docs.json"
      node render-clean.mjs

      echo "ğŸ“¦ Re-install runtime dependencies"
      npm install express swagger-ui-express swagger-jsdoc @prisma/client

    startCommand: npm start
